<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ê†áÁ≠æËØ¶ÊÉÖ - Stock Tag Explorer</title>
    <link rel="stylesheet" href="./styles/main.css">
    <link rel="stylesheet" href="./styles/tag-detail.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- ÂõæÊ†áÂ∫ì -->
    <script>
        // Âä†ËΩΩÂõæÊ†áÂ∫ì
        fetch('./assets/icons.svg')
            .then(response => response.text())
            .then(data => {
                const div = document.createElement('div');
                div.innerHTML = data;
                document.body.insertBefore(div, document.body.firstChild);
            });
    </script>
</head>
<body>
    <!-- ÂÖ®Â±ÄÂØºËà™Ê†è -->
    <nav class="global-navbar">
        <div class="navbar-container">
            <a href="index.html" class="navbar-brand">
                <span class="navbar-logo">üìä</span>
                <span class="navbar-title">Stock Explorer</span>
            </a>
            <ul class="navbar-links">
                <li>
                    <a href="index.html" class="global-nav-link">
                        <svg class="nav-icon tag-icon">
                            <use href="#icon-tag"></use>
                        </svg>
                        Ê†áÁ≠æ‰∫ëÂπøÂú∫
                    </a>
                </li>
                <li>
                    <a href="trending.html" class="global-nav-link">
                        <svg class="nav-icon trending-icon">
                            <use href="#icon-trending"></use>
                        </svg>
                        Ë∂ãÂäøÈ£é‰∫ëÊ¶ú
                    </a>
                </li>
                <li>
                    <a href="https://heatmap-pro.vercel.app/sector-aggregation.html" class="global-nav-link">
                        <svg class="nav-icon heatmap-icon">
                            <use href="#icon-heatmap"></use>
                        </svg>
                        ËÇ°Á•®ÁÉ≠ÂäõÂõæ
                    </a>
                </li>
            </ul>
        </div>
    </nav>
    
    <div id="app">
        <!-- Â§¥ÈÉ® -->
        <header class="header">
            <div class="container">
                <div class="header-content">
                    <div class="header-left">
                        <div class="breadcrumb">
                            <a href="index.html" class="breadcrumb-link">Ê†áÁ≠æÂπøÂú∫</a>
                            <span class="breadcrumb-separator">></span>
                            <span id="tag-name" class="breadcrumb-current">Âä†ËΩΩ‰∏≠...</span>
                        </div>
                        <h1 id="page-title" class="page-title highlight-tag">Ê†áÁ≠æËØ¶ÊÉÖ</h1>
                        <p id="tag-description" class="tag-description">Êü•ÁúãËØ•Ê†áÁ≠æ‰∏ãÁöÑÊâÄÊúâËÇ°Á•®</p>
                    </div>
                    <div class="header-right">
                        <!-- ÁÉ≠ÂäõÂõæÊåâÈíÆÂ∑≤ÁßªÈô§ -->
                    </div>
                </div>
            </div>
        </header>
        
        <!-- ‰∏ªÂÜÖÂÆπÂå∫ -->
        <main class="main">
            <div class="container">
                <!-- ‰∏äÊñπËøáÊª§Âô®Âå∫Âüü -->
                <div class="filter-section">
                    <div class="filter-header">
                        <h3>Á≠õÈÄâ‰∏éÊéíÂ∫è</h3>
                        <div class="filter-stats">
                            <span id="total-stocks-display" class="stats-display">ÊÄªËÆ° - Âè™ËÇ°Á•®</span>
                        </div>
                    </div>
                    
                    <div class="filter-controls">
                        <div class="filter-group">
                            <label for="sort-select" class="filter-label">ÊéíÂ∫èÊñπÂºè</label>
                            <select id="sort-select" class="sort-select">
                                <option value="name-asc">ÊåâÂêçÁß∞ÊéíÂ∫è ‚Üë</option>
                                <option value="name-desc">ÊåâÂêçÁß∞ÊéíÂ∫è ‚Üì</option>
                                <option value="price-desc">Êåâ‰ª∑Ê†ºÊéíÂ∫è ‚Üì</option>
                                <option value="price-asc">Êåâ‰ª∑Ê†ºÊéíÂ∫è ‚Üë</option>
                                <option value="change-desc">ÊåâÊ∂®Ë∑åÂπÖÊéíÂ∫è ‚Üì</option>
                                <option value="change-asc">ÊåâÊ∂®Ë∑åÂπÖÊéíÂ∫è ‚Üë</option>
                                <option value="volume-desc">ÊåâÊàê‰∫§ÈáèÊéíÂ∫è ‚Üì</option>
                                <option value="volume-asc">ÊåâÊàê‰∫§ÈáèÊéíÂ∫è ‚Üë</option>
                            </select>
                        </div>
                        
                        <div class="filter-group">
                            <label for="price-filter" class="filter-label">‰ª∑Ê†ºËåÉÂõ¥</label>
                            <select id="price-filter" class="price-filter">
                                <option value="all">ÂÖ®ÈÉ®‰ª∑Ê†º</option>
                                <option value="0-50">$0 - $50</option>
                                <option value="50-100">$50 - $100</option>
                                <option value="100-500">$100 - $500</option>
                                <option value="500+">$500+</option>
                            </select>
                        </div>
                        
                        <div class="filter-group">
                            <label for="change-filter" class="filter-label">Ê∂®Ë∑åÂπÖ</label>
                            <select id="change-filter" class="change-filter">
                                <option value="all">ÂÖ®ÈÉ®</option>
                                <option value="up">‰∏äÊ∂®</option>
                                <option value="down">‰∏ãË∑å</option>
                                <option value="flat">Âπ≥Áõò</option>
                            </select>
                        </div>
                        
                        <div class="filter-group view-controls">
                            <label class="filter-label">ËßÜÂõæÊ®°Âºè</label>
                            <div class="view-toggle">
                                <button id="grid-view" class="view-btn active" title="ÁΩëÊ†ºËßÜÂõæ">‚äû</button>
                                <button id="list-view" class="view-btn" title="ÂàóË°®ËßÜÂõæ">‚ò∞</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="content-layout">
                    <!-- Â∑¶‰æßËÇ°Á•®ÂàóË°® -->
                    <div class="left-panel">
                        <!-- ËÇ°Á•®ÂàóË°®Âå∫Âüü -->
                        <section id="stock-list-section" class="stock-list-section">
                            <div class="stock-list-header">
                                <h3 id="stock-list-title">ÈÄâ‰∏≠Ê†áÁ≠æÁöÑËÇ°Á•®</h3>
                                <div class="stock-list-controls">
                                    <div class="view-controls">
                                        <button id="grid-view" class="view-btn active" title="ÁΩëÊ†ºËßÜÂõæ">
                                            <span class="view-icon">‚äû</span>
                                        </button>
                                        <button id="list-view" class="view-btn" title="ÂàóË°®ËßÜÂõæ">
                                            <span class="view-icon">‚ò∞</span>
                                        </button>
                                        <button id="sector-heatmap-btn" class="heatmap-btn" title="Êü•ÁúãË°å‰∏öÁÉ≠ÂäõÂõæ">
                                            <svg class="heatmap-icon">
                                                <use href="#icon-heatmap"></use>
                                            </svg>
                                            <span>Ë°å‰∏öÁÉ≠ÂäõÂõæ</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Âä†ËΩΩÁä∂ÊÄÅ -->
                            <div id="loading" class="loading-state">
                                <div class="loading-spinner"></div>
                                <p>Ê≠£Âú®Âä†ËΩΩËÇ°Á•®Êï∞ÊçÆ...</p>
                            </div>
                            
                            <!-- ÈîôËØØÁä∂ÊÄÅ -->
                            <div id="error" class="error-state hidden">
                                <div class="error-icon">‚ö†Ô∏è</div>
                                <p id="error-message">Âä†ËΩΩÂ§±Ë¥•ÔºåËØ∑ÈáçËØï</p>
                                <button id="retry-btn" class="retry-btn">ÈáçÊñ∞Âä†ËΩΩ</button>
                            </div>
                            
                            <!-- ËÇ°Á•®ÂàóË°® -->
                            <div id="stock-list" class="stock-list"></div>
                            
                            <!-- Êó†ÈôêÊªöÂä®Âä†ËΩΩÊåáÁ§∫Âô® -->
                            <div id="infinite-loading" class="infinite-loading hidden">
                                <div class="loading-spinner"></div>
                                <p>Ê≠£Âú®Âä†ËΩΩÊõ¥Â§öËÇ°Á•®...</p>
                            </div>
                            
                            <!-- Âä†ËΩΩÂÆåÊàêÊèêÁ§∫ -->
                            <div id="load-complete" class="load-complete hidden">
                                <p>Â∑≤Âä†ËΩΩÂÖ®ÈÉ®ËÇ°Á•®</p>
                            </div>
                            
                            <!-- ÂàÜÈ°µ -->
                            <div id="pagination" class="pagination hidden"></div>
                        </section>
                    </div>
                    
                    <!-- Âè≥‰æß‰æßËæπÊ†è -->
                    <div class="right-panel">
                        <!-- Áõ∏ÂÖ≥Ê†áÁ≠æ‰∫ë (ÁßªÂà∞È°∂ÈÉ®) -->
                        <div class="tag-cloud-card">
                            <div class="tag-cloud-header">
                                <h4>üè∑Ô∏è Áõ∏ÂÖ≥Ê†áÁ≠æ</h4>
                                <p class="tag-cloud-subtitle">ÁÇπÂáªÊé¢Á¥¢ÂÖ∂‰ªñÂàÜÁ±ª</p>
                            </div>
                            <div id="related-tags" class="related-tags-compact"></div>
                        </div>
                        
                        <!-- Ê†áÁ≠æÁªüËÆ°Âç°Áâá -->
                        <div class="stats-card">
                            <div class="stats-header">
                                <h4>üìä Ê†áÁ≠æÁªüËÆ°</h4>
                            </div>
                            <div class="stats-grid">
                                <div class="stats-item">
                                    <span class="stats-number" id="total-stocks">-</span>
                                    <span class="stats-label">ÊÄªËÇ°Á•®Êï∞</span>
                                </div>
                                <div class="stats-item stats-up">
                                    <span class="stats-number" id="rising-stocks">-</span>
                                    <span class="stats-label">‰∏äÊ∂®</span>
                                </div>
                                <div class="stats-item stats-down">
                                    <span class="stats-number" id="falling-stocks">-</span>
                                    <span class="stats-label">‰∏ãË∑å</span>
                                </div>
                                <div class="stats-item stats-flat">
                                    <span class="stats-number" id="flat-stocks">-</span>
                                    <span class="stats-label">Âπ≥Áõò</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Âø´ÈÄüÂØºËà™ -->
                        <div class="quick-nav-card">
                            <div class="quick-nav-header">
                                <h4>üöÄ Âø´ÈÄüÂØºËà™</h4>
                            </div>
                            <div class="quick-nav-links">
                                <a href="index.html" class="quick-nav-link">
                                    <span class="nav-icon">üè†</span>
                                    <span class="nav-text">Ê†áÁ≠æÂπøÂú∫</span>
                                </a>
                                <a href="trending.html" class="quick-nav-link">
                                    <span class="nav-icon">üìà</span>
                                    <span class="nav-text">Ë∂ãÂäøÊ¶úÂçï</span>
                                </a>
                                <a href="https://heatmap-pro.vercel.app/sector-aggregation.html" class="quick-nav-link" target="_blank">
                                    <span class="nav-icon">üî•</span>
                                    <span class="nav-text">ËÇ°Á•®ÁÉ≠ÂäõÂõæ</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <!-- È°µËÑö -->
        <footer class="footer">
            <div class="container">
                <p>&copy; 2024 Stock Tag Explorer. Êï∞ÊçÆÊù•Ê∫ê: Polygon.io & Finnhub</p>
            </div>
        </footer>
        
        <!-- Toast ÈÄöÁü• -->
        <div id="toast" class="toast hidden"></div>
        
        <!-- ÂÖ®Â±ÄToastÊ∂àÊÅØ -->
        <div id="toast-message" class="toast-message" style="display: none;"></div>
    </div>
    
    <script src="./scripts/stock-renderer.js"></script>
    <script src="./scripts/tag-detail.js"></script>
</body>
</html>