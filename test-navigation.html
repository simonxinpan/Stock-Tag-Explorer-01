<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç§»åŠ¨ç‰ˆå¯¼èˆªæµ‹è¯•</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
        .test-container { max-width: 800px; margin: 0 auto; }
        .test-section { margin: 20px 0; padding: 20px; background: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .test-button { display: inline-block; margin: 8px; padding: 12px 20px; background: #007bff; color: white; text-decoration: none; border-radius: 6px; border: none; cursor: pointer; }
        .test-button:hover { background: #0056b3; }
        .test-button.sp500 { background: #28a745; }
        .test-button.chinese { background: #dc3545; }
        .market-selector { text-align: center; margin-bottom: 30px; }
        .ranking-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; }
        .ranking-item { padding: 15px; border: 1px solid #ddd; border-radius: 6px; background: #f8f9fa; }
        .ranking-title { font-weight: bold; margin-bottom: 10px; color: #333; }
        .test-link { display: block; margin-top: 8px; color: #007bff; text-decoration: none; font-size: 14px; }
        .test-link:hover { text-decoration: underline; }
        h1 { text-align: center; color: #333; }
        h2 { color: #555; border-bottom: 2px solid #007bff; padding-bottom: 10px; }
        .status { padding: 10px; border-radius: 4px; margin: 10px 0; }
        .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .info { background: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ§ª ç§»åŠ¨ç‰ˆå¯¼èˆªåŠŸèƒ½æµ‹è¯•</h1>
        
        <div class="status info">
            <strong>æµ‹è¯•è¯´æ˜ï¼š</strong> ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®æµ‹è¯•ç§»åŠ¨ç‰ˆæ¦œå•é¡µé¢çš„è·³è½¬åŠŸèƒ½ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¼šè‡ªåŠ¨è·³è½¬åˆ°ç”Ÿäº§æœåŠ¡å™¨åœ°å€ã€‚
        </div>

        <div class="test-section">
            <h2>ğŸ“± ç§»åŠ¨ç‰ˆé¦–é¡µå…¥å£</h2>
            <div class="market-selector">
                <a href="mobile.html?market=chinese_stocks" class="test-button chinese">ä¸­æ¦‚è‚¡ç§»åŠ¨ç‰ˆé¦–é¡µ</a>
                <a href="mobile.html?market=sp500" class="test-button sp500">æ ‡æ™®500ç§»åŠ¨ç‰ˆé¦–é¡µ</a>
            </div>
        </div>

        <div class="test-section">
            <h2>ğŸ¯ ç›´æ¥æµ‹è¯•å¯¼èˆªå‡½æ•°</h2>
            <div class="market-selector">
                <button class="test-button chinese" onclick="testNavigation('chinese_stocks', 'top_gainers')">æµ‹è¯•ä¸­æ¦‚è‚¡æ¶¨å¹…æ¦œ</button>
                <button class="test-button sp500" onclick="testNavigation('sp500', 'top_gainers')">æµ‹è¯•æ ‡æ™®500æ¶¨å¹…æ¦œ</button>
                <button class="test-button sp500" onclick="testNavigation('sp500', 'top_market_cap')">æµ‹è¯•æ ‡æ™®500å¸‚å€¼æ¦œ</button>
                <button class="test-button chinese" onclick="testNavigation('chinese_stocks', 'top_losers')">æµ‹è¯•ä¸­æ¦‚è‚¡è·Œå¹…æ¦œ</button>
            </div>
        </div>

        <div class="test-section">
            <h2>ğŸ“‹ å®Œæ•´æ¦œå•é“¾æ¥æ¸…å•</h2>
            <div class="ranking-grid" id="ranking-links"></div>
        </div>

        <div class="status success">
            <strong>âœ… ä¿®å¤å†…å®¹ï¼š</strong>
            <ul>
                <li>ç›´æ¥åœ¨ä»£ç ä¸­ç¡¬ç¼–ç äº†28ä¸ªç”Ÿäº§æœåŠ¡å™¨åœ°å€ï¼ˆ14ä¸ªä¸­æ¦‚è‚¡ + 14ä¸ªæ ‡æ™®500ï¼‰</li>
                <li>è‡ªåŠ¨æ£€æµ‹ç”Ÿäº§ç¯å¢ƒï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨å®Œæ•´URL</li>
                <li>æ”¹è¿›äº†getCurrentMarketå‡½æ•°çš„å¸‚åœºè¯†åˆ«é€»è¾‘</li>
                <li>ç»Ÿä¸€äº†é¡¶éƒ¨å¯¼èˆªå’Œå¡ç‰‡"æŸ¥çœ‹æ›´å¤š"çš„è·³è½¬é€»è¾‘</li>
            </ul>
        </div>
    </div>

    <script>
        // æ¨¡æ‹Ÿç§»åŠ¨ç‰ˆçš„å¯¼èˆªå‡½æ•°ï¼ˆç®€åŒ–ç‰ˆï¼‰
        function testNavigation(market, listType) {
            const productionUrls = {
                'chinese_stocks': {
                    'top_gainers': 'https://stock-tag-explorer-01.vercel.app/mobile-ranking-detail.html?market=chinese_stocks&list=top_gainers',
                    'top_market_cap': 'https://stock-tag-explorer-01.vercel.app/mobile-ranking-detail.html?market=chinese_stocks&list=top_market_cap',
                    'top_losers': 'https://stock-tag-explorer-01.vercel.app/mobile-ranking-detail.html?market=chinese_stocks&list=top_losers'
                },
                'sp500': {
                    'top_gainers': 'https://stock-tag-explorer-01.vercel.app/mobile-ranking-detail.html?market=sp500&list=top_gainers',
                    'top_market_cap': 'https://stock-tag-explorer-01.vercel.app/mobile-ranking-detail.html?market=sp500&list=top_market_cap',
                    'top_losers': 'https://stock-tag-explorer-01.vercel.app/mobile-ranking-detail.html?market=sp500&list=top_losers'
                }
            };

            const url = productionUrls[market] && productionUrls[market][listType] 
                ? productionUrls[market][listType]
                : `mobile-ranking-detail.html?market=${market}&list=${listType}`;
            
            console.log(`ğŸ”— æµ‹è¯•è·³è½¬: ${url}`);
            alert(`å°†è·³è½¬åˆ°: ${url}`);
            // window.open(url, '_blank'); // å–æ¶ˆæ³¨é‡Šå¯å®é™…è·³è½¬
        }

        // ç”Ÿæˆå®Œæ•´æ¦œå•æ¸…å•
        const rankingTypes = [
            { id: 'top_gainers', name: 'ğŸš€ æ¶¨å¹…æ¦œ' },
            { id: 'top_market_cap', name: 'ğŸ’° å¸‚å€¼æ¦œ' },
            { id: 'new_highs', name: 'â¬†ï¸ åˆ›æ–°é«˜' },
            { id: 'top_turnover', name: 'ğŸ’° æˆäº¤é¢' },
            { id: 'top_volatility', name: 'ğŸ“Š æŒ¯å¹…æ¦œ' },
            { id: 'top_gap_up', name: 'ğŸŒ… é«˜å¼€ç¼ºå£' },
            { id: 'top_losers', name: 'ğŸ“‰ è·Œå¹…æ¦œ' },
            { id: 'new_lows', name: 'â¬‡ï¸ åˆ›æ–°ä½' },
            { id: 'institutional_focus', name: 'ğŸ›ï¸ æœºæ„å…³æ³¨' },
            { id: 'retail_hot', name: 'ğŸ‘¥ æ•£æˆ·çƒ­é—¨' },
            { id: 'smart_money', name: 'ğŸ›ï¸ ä¸»åŠ›åŠ¨å‘' },
            { id: 'high_liquidity', name: 'ğŸ’§ é«˜æµåŠ¨æ€§' },
            { id: 'unusual_activity', name: 'âš¡ å¼‚åŠ¨æ¦œ' },
            { id: 'momentum_stocks', name: 'ğŸš€ åŠ¨é‡æ¦œ' }
        ];

        function generateRankingLinks() {
            const container = document.getElementById('ranking-links');
            
            rankingTypes.forEach(ranking => {
                const item = document.createElement('div');
                item.className = 'ranking-item';
                
                const chineseUrl = `https://stock-tag-explorer-01.vercel.app/mobile-ranking-detail.html?market=chinese_stocks&list=${ranking.id}`;
                const sp500Url = `https://stock-tag-explorer-01.vercel.app/mobile-ranking-detail.html?market=sp500&list=${ranking.id}`;
                
                item.innerHTML = `
                    <div class="ranking-title">${ranking.name}</div>
                    <a href="${chineseUrl}" class="test-link" target="_blank">ğŸ‡¨ğŸ‡³ ä¸­æ¦‚è‚¡: ${ranking.id}</a>
                    <a href="${sp500Url}" class="test-link" target="_blank">ğŸ‡ºğŸ‡¸ æ ‡æ™®500: ${ranking.id}</a>
                `;
                
                container.appendChild(item);
            });
        }

        // é¡µé¢åŠ è½½å®Œæˆåç”Ÿæˆé“¾æ¥
        document.addEventListener('DOMContentLoaded', generateRankingLinks);
    </script>
</body>
</html>